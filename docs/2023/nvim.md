# nvim 笔记

nvim 是指 neovim。neovim 是在 vim 的基础上 fork 出来的一个版本。neovim 比有 vim 有更快的演进速度，也自带很多新功能。比如 LSP 支持等。nvim 的很多基础功能和 vim 保持一致。

## nvim 的模式

nvim 是一种基于模式的编辑器。nvim 有四个常用的模式：

| 模式         | 功能                                                                                                                                                      |
| ------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------- |
| normal mode  | 正常模式。一般用于游览文件，也可以进行复制、粘贴、删除等操作                                                                                              |
| insert mode  | 编辑模式。在 normal mode 可以通过 i、a、s、o 等快捷键进入到 insert mode。在 insert mode 可以通过按 ESC 键回到 normal mode                                 |
| command mode | 命令模式。在 normal mode 中按下 `:` 进入 command mode。command mode 用于执行 nvim 的功能，比如保存 `:w`，退出 `:q`                                        |
| visual mode  | 可视化模式。在 normal mode 按 `v` 可以进入可视化模式，visual mode 主要用于选择文本。启用了鼠标支持，在 normal mode 用鼠标选择文本也会自动进入 visual mode |

## 编辑文件

最简单打开文件的方式是 `nvim file.txt`。nvim 打开文件后，默认会处于 normal mode。

在 normal mode 通过 `i I a A o O s S` 可以快速进入 insert 模式：

| 快捷键 | 功能                                                       |
| ------ | ---------------------------------------------------------- |
| `i`    | 在光标所在字符之前开始编辑                                 |
| `I`    | 在光标所在的行的行首开始编辑                               |
| `a`    | 在光标所在字符后开始编辑                                   |
| `o`    | 在光标所在行的插入空行，并在该行的行首开始编辑             |
| `O`    | 在光标所在行的向上增加一行空行，并在该行的行首开始编辑     |
| `s`    | 删除光标所在字符并插入编辑光标                             |
| `S`    | 清空光标所在的行，并在行首开始编辑                         |
| `cw`   | 删除光标所在字符处开始到该单词结束的所有字符，然后开始编辑 |

编辑文件需要先回到 normal mode 再通过 `:` 快捷键进入 command mode。在 command mode 通过 `w` 命令保存文件。nvim 也支持其他命令：

| 命令  | 功能                                                   |
| ----- | ------------------------------------------------------ |
| `w`   | 保存                                                   |
| `q`   | 退出编辑器。如果打开了多个 buffer，则关闭当前的 buffer |
| `wq`  | 保存并退出                                             |
| `q!`  | 不保存直接退出                                         |
| `set` | 设置 nvim。比如 `set nu` 显示行号                      |

## TBD
