# Marknote 全文搜索的想法

Marknote 是纯前端渲染的 spa。要想被百度之类索引到估计不可能的。一是托管在 github.io；二是没有生成 html，爬虫也不一定能获取到数据。

如果需要实现文章内容搜索，只能自己实现。游客们手工 ctrl+f 当然也是可以的，但是就没有意义了。

## 想法

全文搜索关键是建立一个索引。对于创建索引，应该是 elasticsearch 这种组件的内置功能。因为是中文内容，也涉及到中文的分词问题。不过我相信
elasticsearch 应该会有配合使用的组件。所以创建索引的问题就变成了另一个问题——如果向全文搜索引擎传入数据。

我想的是利用 webhooks 实现。github 是支持 webhooks 功能。用户向 git 仓库推送代码后，可以触发一个 http post 操作，调用特定的服务。
这样就可以搜索服务去更新索引。于是再次变成另一个问题——创建一个服务响应 webhooks，然后向搜索引擎推送更新的内容。

## 设计

![架构](docs/202111/images/fulltext-search-for-marknote-arch.svg)


TBD

----

2021.11.14
