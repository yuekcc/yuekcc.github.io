import{e as a,h as n}from"/dist/chunk-0936xbxf.js";function s(){return n("div",{class:"markdown-body",children:n(a,{children:[n("h1",{children:"Junit、Mockito DT 实战"},void 0,!1,void 0,this),`
`,n("p",{children:["编写高质量的 Java 代码，单元测试是不可或缺的一环。",n("strong",{children:"JUnit 5"},void 0,!1,void 0,this)," 是 Java 测试的标准框架，而 ",n("strong",{children:"Mockito"},void 0,!1,void 0,this)," 则是最流行的 Mock 框架，两者结合可以轻松实现对业务逻辑的隔离测试。"]},void 0,!0,void 0,this),`
`,n("p",{children:"这篇指南将通过一个经典的“转账服务”案例，带你快速上手。"},void 0,!1,void 0,this),`
`,n("hr",{},void 0,!1,void 0,this),`
`,n("h2",{children:"1. 核心概念：为什么需要 Mockito？"},void 0,!1,void 0,this),`
`,n("p",{children:"在复杂的系统中，一个类（Service）通常依赖于其他类（Repository 或外部 API）。"},void 0,!1,void 0,this),`
`,n("ul",{children:[`
`,n("li",{children:[n("strong",{children:"JUnit 5"},void 0,!1,void 0,this),"：负责运行测试、断言结果（判断对错）。"]},void 0,!0,void 0,this),`
`,n("li",{children:[n("strong",{children:"Mockito"},void 0,!1,void 0,this),"：负责模拟（Mock）那些复杂的依赖项，让你只关注当前被测试类的逻辑。"]},void 0,!0,void 0,this),`
`]},void 0,!0,void 0,this),`
`,n("hr",{},void 0,!1,void 0,this),`
`,n("h2",{children:"2. 环境准备 (Maven)"},void 0,!1,void 0,this),`
`,n("p",{children:["在 ",n("code",{children:"pom.xml"},void 0,!1,void 0,this)," 中引入必要的依赖。JUnit 5 建议使用 ",n("code",{children:"junit-jupiter"},void 0,!1,void 0,this),"。"]},void 0,!0,void 0,this),`
`,n("pre",{className:"shiki github-dark",style:{backgroundColor:"#24292e",color:"#e1e4e8"},tabIndex:"0",children:n("code",{children:[n("span",{className:"line",children:[n("span",{style:{color:"#E1E4E8"},children:"<"},void 0,!1,void 0,this),n("span",{style:{color:"#85E89D"},children:"dependencies"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:">"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#E1E4E8"},children:"    <"},void 0,!1,void 0,this),n("span",{style:{color:"#85E89D"},children:"dependency"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:">"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#E1E4E8"},children:"        <"},void 0,!1,void 0,this),n("span",{style:{color:"#85E89D"},children:"groupId"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:">org.junit.jupiter</"},void 0,!1,void 0,this),n("span",{style:{color:"#85E89D"},children:"groupId"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:">"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#E1E4E8"},children:"        <"},void 0,!1,void 0,this),n("span",{style:{color:"#85E89D"},children:"artifactId"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:">junit-jupiter-engine</"},void 0,!1,void 0,this),n("span",{style:{color:"#85E89D"},children:"artifactId"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:">"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#E1E4E8"},children:"        <"},void 0,!1,void 0,this),n("span",{style:{color:"#85E89D"},children:"version"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:">5.10.0</"},void 0,!1,void 0,this),n("span",{style:{color:"#85E89D"},children:"version"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:">"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#E1E4E8"},children:"        <"},void 0,!1,void 0,this),n("span",{style:{color:"#85E89D"},children:"scope"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:">test</"},void 0,!1,void 0,this),n("span",{style:{color:"#85E89D"},children:"scope"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:">"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#E1E4E8"},children:"    </"},void 0,!1,void 0,this),n("span",{style:{color:"#85E89D"},children:"dependency"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:">"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#E1E4E8"},children:"    <"},void 0,!1,void 0,this),n("span",{style:{color:"#85E89D"},children:"dependency"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:">"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#E1E4E8"},children:"        <"},void 0,!1,void 0,this),n("span",{style:{color:"#85E89D"},children:"groupId"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:">org.mockito</"},void 0,!1,void 0,this),n("span",{style:{color:"#85E89D"},children:"groupId"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:">"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#E1E4E8"},children:"        <"},void 0,!1,void 0,this),n("span",{style:{color:"#85E89D"},children:"artifactId"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:">mockito-junit-jupiter</"},void 0,!1,void 0,this),n("span",{style:{color:"#85E89D"},children:"artifactId"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:">"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#E1E4E8"},children:"        <"},void 0,!1,void 0,this),n("span",{style:{color:"#85E89D"},children:"version"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:">5.5.0</"},void 0,!1,void 0,this),n("span",{style:{color:"#85E89D"},children:"version"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:">"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#E1E4E8"},children:"        <"},void 0,!1,void 0,this),n("span",{style:{color:"#85E89D"},children:"scope"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:">test</"},void 0,!1,void 0,this),n("span",{style:{color:"#85E89D"},children:"scope"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:">"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#E1E4E8"},children:"    </"},void 0,!1,void 0,this),n("span",{style:{color:"#85E89D"},children:"dependency"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:">"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#E1E4E8"},children:"</"},void 0,!1,void 0,this),n("span",{style:{color:"#85E89D"},children:"dependencies"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:">"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line"},void 0,!1,void 0,this),`
`,n("span",{className:"line"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this),`
`,n("hr",{},void 0,!1,void 0,this),`
`,n("h2",{children:"3. 实战案例：用户服务测试"},void 0,!1,void 0,this),`
`,n("p",{children:["假设我们有一个 ",n("code",{children:"UserService"},void 0,!1,void 0,this),"，它依赖 ",n("code",{children:"UserRepository"},void 0,!1,void 0,this)," 来获取用户信息。我们要测试 ",n("code",{children:"getDisplayName"},void 0,!1,void 0,this)," 方法，该方法会根据 ID 查找用户并返回“姓名 (角色)”。"]},void 0,!0,void 0,this),`
`,n("h3",{children:"被测代码 (Service & Repository)"},void 0,!1,void 0,this),`
`,n("pre",{className:"shiki github-dark",style:{backgroundColor:"#24292e",color:"#e1e4e8"},tabIndex:"0",children:n("code",{children:[n("span",{className:"line",children:n("span",{style:{color:"#6A737D"},children:"// 用户实体"},void 0,!1,void 0,this)},void 0,!1,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#F97583"},children:"public"},void 0,!1,void 0,this),n("span",{style:{color:"#F97583"},children:" record"},void 0,!1,void 0,this),n("span",{style:{color:"#B392F0"},children:" User"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:"(Long id, String name, String role) {}"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line"},void 0,!1,void 0,this),`
`,n("span",{className:"line",children:n("span",{style:{color:"#6A737D"},children:"// 数据访问接口"},void 0,!1,void 0,this)},void 0,!1,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#F97583"},children:"public"},void 0,!1,void 0,this),n("span",{style:{color:"#F97583"},children:" interface"},void 0,!1,void 0,this),n("span",{style:{color:"#B392F0"},children:" UserRepository"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:" {"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#E1E4E8"},children:"    User "},void 0,!1,void 0,this),n("span",{style:{color:"#B392F0"},children:"findById"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:"(Long "},void 0,!1,void 0,this),n("span",{style:{color:"#FFAB70"},children:"id"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:");"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:n("span",{style:{color:"#E1E4E8"},children:"}"},void 0,!1,void 0,this)},void 0,!1,void 0,this),`
`,n("span",{className:"line"},void 0,!1,void 0,this),`
`,n("span",{className:"line",children:n("span",{style:{color:"#6A737D"},children:"// 业务逻辑类 (我们要测试的对象)"},void 0,!1,void 0,this)},void 0,!1,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#F97583"},children:"public"},void 0,!1,void 0,this),n("span",{style:{color:"#F97583"},children:" class"},void 0,!1,void 0,this),n("span",{style:{color:"#B392F0"},children:" UserService"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:" {"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#F97583"},children:"    private"},void 0,!1,void 0,this),n("span",{style:{color:"#F97583"},children:" final"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:" UserRepository userRepository;"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line"},void 0,!1,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#F97583"},children:"    public"},void 0,!1,void 0,this),n("span",{style:{color:"#B392F0"},children:" UserService"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:"(UserRepository "},void 0,!1,void 0,this),n("span",{style:{color:"#FFAB70"},children:"userRepository"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:") {"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#79B8FF"},children:"        this"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:".userRepository "},void 0,!1,void 0,this),n("span",{style:{color:"#F97583"},children:"="},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:" userRepository;"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:n("span",{style:{color:"#E1E4E8"},children:"    }"},void 0,!1,void 0,this)},void 0,!1,void 0,this),`
`,n("span",{className:"line"},void 0,!1,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#F97583"},children:"    public"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:" String "},void 0,!1,void 0,this),n("span",{style:{color:"#B392F0"},children:"getDisplayName"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:"(Long "},void 0,!1,void 0,this),n("span",{style:{color:"#FFAB70"},children:"id"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:") {"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#E1E4E8"},children:"        User user "},void 0,!1,void 0,this),n("span",{style:{color:"#F97583"},children:"="},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:" userRepository."},void 0,!1,void 0,this),n("span",{style:{color:"#B392F0"},children:"findById"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:"(id);"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#F97583"},children:"        if"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:" (user "},void 0,!1,void 0,this),n("span",{style:{color:"#F97583"},children:"=="},void 0,!1,void 0,this),n("span",{style:{color:"#79B8FF"},children:" null"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:") "},void 0,!1,void 0,this),n("span",{style:{color:"#F97583"},children:"return"},void 0,!1,void 0,this),n("span",{style:{color:"#9ECBFF"},children:' "Unknown User"'},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:";"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#F97583"},children:"        return"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:" user."},void 0,!1,void 0,this),n("span",{style:{color:"#B392F0"},children:"name"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:"() "},void 0,!1,void 0,this),n("span",{style:{color:"#F97583"},children:"+"},void 0,!1,void 0,this),n("span",{style:{color:"#9ECBFF"},children:' " ("'},void 0,!1,void 0,this),n("span",{style:{color:"#F97583"},children:" +"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:" user."},void 0,!1,void 0,this),n("span",{style:{color:"#B392F0"},children:"role"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:"() "},void 0,!1,void 0,this),n("span",{style:{color:"#F97583"},children:"+"},void 0,!1,void 0,this),n("span",{style:{color:"#9ECBFF"},children:' ")"'},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:";"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:n("span",{style:{color:"#E1E4E8"},children:"    }"},void 0,!1,void 0,this)},void 0,!1,void 0,this),`
`,n("span",{className:"line",children:n("span",{style:{color:"#E1E4E8"},children:"}"},void 0,!1,void 0,this)},void 0,!1,void 0,this),`
`,n("span",{className:"line"},void 0,!1,void 0,this),`
`,n("span",{className:"line"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this),`
`,n("h3",{children:"编写测试用例"},void 0,!1,void 0,this),`
`,n("pre",{className:"shiki github-dark",style:{backgroundColor:"#24292e",color:"#e1e4e8"},tabIndex:"0",children:n("code",{children:[n("span",{className:"line",children:[n("span",{style:{color:"#F97583"},children:"import"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:" org.junit.jupiter.api.Test;"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#F97583"},children:"import"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:" org.junit.jupiter.api.extension.ExtendWith;"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#F97583"},children:"import"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:" org.mockito.InjectMocks;"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#F97583"},children:"import"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:" org.mockito.Mock;"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#F97583"},children:"import"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:" org.mockito.junit.jupiter.MockitoExtension;"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line"},void 0,!1,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#F97583"},children:"import"},void 0,!1,void 0,this),n("span",{style:{color:"#F97583"},children:" static"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:" org.junit.jupiter.api.Assertions.assertEquals;"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#F97583"},children:"import"},void 0,!1,void 0,this),n("span",{style:{color:"#F97583"},children:" static"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:" org.mockito.Mockito."},void 0,!1,void 0,this),n("span",{style:{color:"#79B8FF"},children:"*"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:";"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line"},void 0,!1,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#E1E4E8"},children:"@"},void 0,!1,void 0,this),n("span",{style:{color:"#F97583"},children:"ExtendWith"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:"(MockitoExtension.class) "},void 0,!1,void 0,this),n("span",{style:{color:"#6A737D"},children:"// 启用 Mockito 扩展"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#F97583"},children:"class"},void 0,!1,void 0,this),n("span",{style:{color:"#B392F0"},children:" UserServiceTest"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:" {"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line"},void 0,!1,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#E1E4E8"},children:"    @"},void 0,!1,void 0,this),n("span",{style:{color:"#F97583"},children:"Mock"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#F97583"},children:"    private"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:" UserRepository userRepository; "},void 0,!1,void 0,this),n("span",{style:{color:"#6A737D"},children:"// 模拟一个数据库仓库"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line"},void 0,!1,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#E1E4E8"},children:"    @"},void 0,!1,void 0,this),n("span",{style:{color:"#F97583"},children:"InjectMocks"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#F97583"},children:"    private"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:" UserService userService; "},void 0,!1,void 0,this),n("span",{style:{color:"#6A737D"},children:"// 自动将上面的 Mock 注入到这个 Service 中"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line"},void 0,!1,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#E1E4E8"},children:"    @"},void 0,!1,void 0,this),n("span",{style:{color:"#F97583"},children:"Test"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#F97583"},children:"    void"},void 0,!1,void 0,this),n("span",{style:{color:"#B392F0"},children:" shouldReturnFormattedDisplayName"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:"() {"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:n("span",{style:{color:"#6A737D"},children:"        // 1. 准备数据 (Given)"},void 0,!1,void 0,this)},void 0,!1,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#E1E4E8"},children:"        User mockUser "},void 0,!1,void 0,this),n("span",{style:{color:"#F97583"},children:"="},void 0,!1,void 0,this),n("span",{style:{color:"#F97583"},children:" new"},void 0,!1,void 0,this),n("span",{style:{color:"#B392F0"},children:" User"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:"("},void 0,!1,void 0,this),n("span",{style:{color:"#79B8FF"},children:"1L"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:", "},void 0,!1,void 0,this),n("span",{style:{color:"#9ECBFF"},children:'"Alice"'},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:", "},void 0,!1,void 0,this),n("span",{style:{color:"#9ECBFF"},children:'"Admin"'},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:");"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line"},void 0,!1,void 0,this),`
`,n("span",{className:"line",children:n("span",{style:{color:"#6A737D"},children:"        // 2. 设定 Mock 行为 (When)"},void 0,!1,void 0,this)},void 0,!1,void 0,this),`
`,n("span",{className:"line",children:n("span",{style:{color:"#6A737D"},children:"        // 当调用 userRepository.findById(1) 时，返回 mockUser"},void 0,!1,void 0,this)},void 0,!1,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#B392F0"},children:"        when"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:"(userRepository."},void 0,!1,void 0,this),n("span",{style:{color:"#B392F0"},children:"findById"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:"("},void 0,!1,void 0,this),n("span",{style:{color:"#79B8FF"},children:"1L"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:"))."},void 0,!1,void 0,this),n("span",{style:{color:"#B392F0"},children:"thenReturn"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:"(mockUser);"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line"},void 0,!1,void 0,this),`
`,n("span",{className:"line",children:n("span",{style:{color:"#6A737D"},children:"        // 3. 执行测试方法 (Act)"},void 0,!1,void 0,this)},void 0,!1,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#E1E4E8"},children:"        String displayName "},void 0,!1,void 0,this),n("span",{style:{color:"#F97583"},children:"="},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:" userService."},void 0,!1,void 0,this),n("span",{style:{color:"#B392F0"},children:"getDisplayName"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:"("},void 0,!1,void 0,this),n("span",{style:{color:"#79B8FF"},children:"1L"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:");"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line"},void 0,!1,void 0,this),`
`,n("span",{className:"line",children:n("span",{style:{color:"#6A737D"},children:"        // 4. 断言结果 (Assert)"},void 0,!1,void 0,this)},void 0,!1,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#B392F0"},children:"        assertEquals"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:"("},void 0,!1,void 0,this),n("span",{style:{color:"#9ECBFF"},children:'"Alice (Admin)"'},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:", displayName);"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line"},void 0,!1,void 0,this),`
`,n("span",{className:"line",children:n("span",{style:{color:"#6A737D"},children:"        // 5. 验证行为 (Verify) - 确保 findById 真的被调用了一次"},void 0,!1,void 0,this)},void 0,!1,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#B392F0"},children:"        verify"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:"(userRepository, "},void 0,!1,void 0,this),n("span",{style:{color:"#B392F0"},children:"times"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:"("},void 0,!1,void 0,this),n("span",{style:{color:"#79B8FF"},children:"1"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:"))."},void 0,!1,void 0,this),n("span",{style:{color:"#B392F0"},children:"findById"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:"("},void 0,!1,void 0,this),n("span",{style:{color:"#79B8FF"},children:"1L"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:");"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:n("span",{style:{color:"#E1E4E8"},children:"    }"},void 0,!1,void 0,this)},void 0,!1,void 0,this),`
`,n("span",{className:"line"},void 0,!1,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#E1E4E8"},children:"    @"},void 0,!1,void 0,this),n("span",{style:{color:"#F97583"},children:"Test"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#F97583"},children:"    void"},void 0,!1,void 0,this),n("span",{style:{color:"#B392F0"},children:" shouldReturnUnknownWhenUserNotFound"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:"() {"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:n("span",{style:{color:"#6A737D"},children:"        // 设定当找不到用户时返回 null"},void 0,!1,void 0,this)},void 0,!1,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#B392F0"},children:"        when"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:"(userRepository."},void 0,!1,void 0,this),n("span",{style:{color:"#B392F0"},children:"findById"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:"("},void 0,!1,void 0,this),n("span",{style:{color:"#79B8FF"},children:"99L"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:"))."},void 0,!1,void 0,this),n("span",{style:{color:"#B392F0"},children:"thenReturn"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:"("},void 0,!1,void 0,this),n("span",{style:{color:"#79B8FF"},children:"null"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:");"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line"},void 0,!1,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#E1E4E8"},children:"        String displayName "},void 0,!1,void 0,this),n("span",{style:{color:"#F97583"},children:"="},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:" userService."},void 0,!1,void 0,this),n("span",{style:{color:"#B392F0"},children:"getDisplayName"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:"("},void 0,!1,void 0,this),n("span",{style:{color:"#79B8FF"},children:"99L"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:");"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line"},void 0,!1,void 0,this),`
`,n("span",{className:"line",children:[n("span",{style:{color:"#B392F0"},children:"        assertEquals"},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:"("},void 0,!1,void 0,this),n("span",{style:{color:"#9ECBFF"},children:'"Unknown User"'},void 0,!1,void 0,this),n("span",{style:{color:"#E1E4E8"},children:", displayName);"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),`
`,n("span",{className:"line",children:n("span",{style:{color:"#E1E4E8"},children:"    }"},void 0,!1,void 0,this)},void 0,!1,void 0,this),`
`,n("span",{className:"line",children:n("span",{style:{color:"#E1E4E8"},children:"}"},void 0,!1,void 0,this)},void 0,!1,void 0,this),`
`,n("span",{className:"line"},void 0,!1,void 0,this),`
`,n("span",{className:"line"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this),`
`,n("hr",{},void 0,!1,void 0,this),`
`,n("h2",{children:"4. 常用注解与技巧速查"},void 0,!1,void 0,this),`
`,n("p",{children:"为了方便你后续开发，这里总结了最常用的功能："},void 0,!1,void 0,this),`
`,n("table",{children:[n("thead",{children:n("tr",{children:[n("th",{children:"注解 / 方法"},void 0,!1,void 0,this),n("th",{children:"作用"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this),n("tbody",{children:[n("tr",{children:[n("td",{children:n("strong",{children:n("code",{children:"@ExtendWith(MockitoExtension.class)"},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this),n("td",{children:"在 JUnit 5 中初始化 Mockito 环境。"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),n("tr",{children:[n("td",{children:n("strong",{children:n("code",{children:"@Mock"},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this),n("td",{children:"创建一个虚假的模拟对象。"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),n("tr",{children:[n("td",{children:n("strong",{children:n("code",{children:"@InjectMocks"},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this),n("td",{children:["创建一个实例，并将标记了 ",n("code",{children:"@Mock"},void 0,!1,void 0,this)," 的对象注入其中。"]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),n("tr",{children:[n("td",{children:n("strong",{children:n("code",{children:"when(...).thenReturn(...)"},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this),n("td",{children:"设定桩模块（Stubbing），规定 Mock 对象的行为。"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),n("tr",{children:[n("td",{children:n("strong",{children:n("code",{children:"assertThrows(...)"},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this),n("td",{children:"JUnit 5 断言，用于检查代码是否按预期抛出异常。"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),n("tr",{children:[n("td",{children:n("strong",{children:n("code",{children:"verify(...)"},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this),n("td",{children:"检查某个 Mock 方法是否被调用，调用了多少次。"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),`
`,n("hr",{},void 0,!1,void 0,this),`
`,n("h2",{children:"5. 编写测试的黄金守则 (AAA 原则)"},void 0,!1,void 0,this),`
`,n("p",{children:["一个优秀的单元测试通常遵循 ",n("strong",{children:"AAA 结构"},void 0,!1,void 0,this),"，这让代码非常易读："]},void 0,!0,void 0,this),`
`,n("ol",{children:[`
`,n("li",{children:[n("strong",{children:"Arrange (准备)"},void 0,!1,void 0,this),": 初始化对象、Mock 行为和输入参数。"]},void 0,!0,void 0,this),`
`,n("li",{children:[n("strong",{children:"Act (执行)"},void 0,!1,void 0,this),": 调用你需要测试的那个方法。"]},void 0,!0,void 0,this),`
`,n("li",{children:[n("strong",{children:"Assert (断言)"},void 0,!1,void 0,this),": 检查输出结果或对象状态是否符合预期。"]},void 0,!0,void 0,this),`
`]},void 0,!0,void 0,this),`
`,n("blockquote",{children:[`
`,n("p",{children:[n("strong",{children:"小贴士"},void 0,!1,void 0,this),"：单元测试应该运行飞快，且不应该连接真实的数据库或网络。如果你发现测试很慢，检查一下是不是忘记 Mock 掉外部调用了。"]},void 0,!0,void 0,this),`
`]},void 0,!0,void 0,this),`
`,n("hr",{},void 0,!1,void 0,this),`
`,n("p",{children:n("strong",{children:["你想尝试为一个包含复杂逻辑（比如带 ",n("code",{children:"if-else"},void 0,!1,void 0,this)," 或循环）的方法编写测试吗？我可以帮你针对具体的代码逻辑设计测试方案。"]},void 0,!0,void 0,this)},void 0,!1,void 0,this),`
`,n("hr",{},void 0,!1,void 0,this),`
`,n("ul",{children:[`
`,n("li",{children:"2026-01-08 by Gemini 3"},void 0,!1,void 0,this),`
`]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}export{s as default};
